# Setup the tables having same structure as tablespace file
# t1 undergoes same INSTANT ADD/DROP as done on source table
CREATE TABLE t1 (c1 INT);
# INSTANT ADD/DROP COLUMNS to make it reach MAX_ROW_VERSION
# An INSTANT ADD COLUMN should result in error now.
ALTER TABLE t1 ADD COLUMN c128 INT, ALGORITHM=INSTANT;
ERROR HY000: Maximum row versions reached for table test/t1. No more columns can be added or dropped instantly. Please use COPY/INPLACE.
# An INSTANT DROP COLUMN should result in error now.
ALTER TABLE t1 DROP COLUMN c126, ALGORITHM=INSTANT;
ERROR HY000: Maximum row versions reached for table test/t1. No more columns can be added or dropped instantly. Please use COPY/INPLACE.
# Table TOTAL_ROW_VERSIONS should be 255 (MAX)
# Metadata from INFORMATION_SCHEMA.TABLES
NAME	N_COLS	INSTANT_COLS	TOTAL_ROW_VERSIONS
test/t1	129	0	255
# Metadata from INFORMATION_SCHEMA.COLUMNS
NAME	POS	MTYPE	PRTYPE	HAS_DEFAULT
c1	0	6	1027	0
c126	1	6	1027	1
c125	2	6	1027	1
c124	3	6	1027	1
c123	4	6	1027	1
c122	5	6	1027	1
c121	6	6	1027	1
c120	7	6	1027	1
c119	8	6	1027	1
c118	9	6	1027	1
c117	10	6	1027	1
c116	11	6	1027	1
c115	12	6	1027	1
c114	13	6	1027	1
c113	14	6	1027	1
c112	15	6	1027	1
c111	16	6	1027	1
c110	17	6	1027	1
c109	18	6	1027	1
c108	19	6	1027	1
c107	20	6	1027	1
c106	21	6	1027	1
c105	22	6	1027	1
c104	23	6	1027	1
c103	24	6	1027	1
c102	25	6	1027	1
c101	26	6	1027	1
c100	27	6	1027	1
c99	28	6	1027	1
c98	29	6	1027	1
c97	30	6	1027	1
c96	31	6	1027	1
c95	32	6	1027	1
c94	33	6	1027	1
c93	34	6	1027	1
c92	35	6	1027	1
c91	36	6	1027	1
c90	37	6	1027	1
c89	38	6	1027	1
c88	39	6	1027	1
c87	40	6	1027	1
c86	41	6	1027	1
c85	42	6	1027	1
c84	43	6	1027	1
c83	44	6	1027	1
c82	45	6	1027	1
c81	46	6	1027	1
c80	47	6	1027	1
c79	48	6	1027	1
c78	49	6	1027	1
c77	50	6	1027	1
c76	51	6	1027	1
c75	52	6	1027	1
c74	53	6	1027	1
c73	54	6	1027	1
c72	55	6	1027	1
c71	56	6	1027	1
c70	57	6	1027	1
c69	58	6	1027	1
c68	59	6	1027	1
c67	60	6	1027	1
c66	61	6	1027	1
c65	62	6	1027	1
c64	63	6	1027	1
c2	64	6	1027	1
c3	65	6	1027	1
c4	66	6	1027	1
c5	67	6	1027	1
c6	68	6	1027	1
c7	69	6	1027	1
c8	70	6	1027	1
c9	71	6	1027	1
c10	72	6	1027	1
c11	73	6	1027	1
c12	74	6	1027	1
c13	75	6	1027	1
c14	76	6	1027	1
c15	77	6	1027	1
c16	78	6	1027	1
c17	79	6	1027	1
c18	80	6	1027	1
c19	81	6	1027	1
c20	82	6	1027	1
c21	83	6	1027	1
c22	84	6	1027	1
c23	85	6	1027	1
c24	86	6	1027	1
c25	87	6	1027	1
c26	88	6	1027	1
c27	89	6	1027	1
c28	90	6	1027	1
c29	91	6	1027	1
c30	92	6	1027	1
c31	93	6	1027	1
c32	94	6	1027	1
c33	95	6	1027	1
c34	96	6	1027	1
c35	97	6	1027	1
c36	98	6	1027	1
c37	99	6	1027	1
c38	100	6	1027	1
c39	101	6	1027	1
c40	102	6	1027	1
c41	103	6	1027	1
c42	104	6	1027	1
c43	105	6	1027	1
c44	106	6	1027	1
c45	107	6	1027	1
c46	108	6	1027	1
c47	109	6	1027	1
c48	110	6	1027	1
c49	111	6	1027	1
c50	112	6	1027	1
c51	113	6	1027	1
c52	114	6	1027	1
c53	115	6	1027	1
c54	116	6	1027	1
c55	117	6	1027	1
c56	118	6	1027	1
c57	119	6	1027	1
c58	120	6	1027	1
c59	121	6	1027	1
c60	122	6	1027	1
c61	123	6	1027	1
c62	124	6	1027	1
c63	125	6	1027	1
CHECK TABLE t1 EXTENDED;
Table	Op	Msg_type	Msg_text
test.t1	check	status	OK
SELECT * FROM t1;
c1	c126	c125	c124	c123	c122	c121	c120	c119	c118	c117	c116	c115	c114	c113	c112	c111	c110	c109	c108	c107	c106	c105	c104	c103	c102	c101	c100	c99	c98	c97	c96	c95	c94	c93	c92	c91	c90	c89	c88	c87	c86	c85	c84	c83	c82	c81	c80	c79	c78	c77	c76	c75	c74	c73	c72	c71	c70	c69	c68	c67	c66	c65	c64	c2	c3	c4	c5	c6	c7	c8	c9	c10	c11	c12	c13	c14	c15	c16	c17	c18	c19	c20	c21	c22	c23	c24	c25	c26	c27	c28	c29	c30	c31	c32	c33	c34	c35	c36	c37	c38	c39	c40	c41	c42	c43	c44	c45	c46	c47	c48	c49	c50	c51	c52	c53	c54	c55	c56	c57	c58	c59	c60	c61	c62	c63
CREATE TABLE t2 LIKE t1;
CREATE TABLE t3 AS SELECT * FROM t1;
# Setup the CFG and IBD files from std_data
# Begin test:
# (a) Import tablespace for target having same INSTANT ADD/DROP as source
ALTER TABLE t1 DISCARD TABLESPACE;
# Copy cfg/ibd files from temp location
ALTER TABLE t1 IMPORT TABLESPACE;
# Validate imported table
CHECK TABLE t1 EXTENDED;
Table	Op	Msg_type	Msg_text
test.t1	check	status	OK
SELECT * FROM t1;
c1	c126	c125	c124	c123	c122	c121	c120	c119	c118	c117	c116	c115	c114	c113	c112	c111	c110	c109	c108	c107	c106	c105	c104	c103	c102	c101	c100	c99	c98	c97	c96	c95	c94	c93	c92	c91	c90	c89	c88	c87	c86	c85	c84	c83	c82	c81	c80	c79	c78	c77	c76	c75	c74	c73	c72	c71	c70	c69	c68	c67	c66	c65	c64	c2	c3	c4	c5	c6	c7	c8	c9	c10	c11	c12	c13	c14	c15	c16	c17	c18	c19	c20	c21	c22	c23	c24	c25	c26	c27	c28	c29	c30	c31	c32	c33	c34	c35	c36	c37	c38	c39	c40	c41	c42	c43	c44	c45	c46	c47	c48	c49	c50	c51	c52	c53	c54	c55	c56	c57	c58	c59	c60	c61	c62	c63
1	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
2	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	2	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3
4	4	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	4	NULL	NULL	NULL	NULL	NULL	NULL	4	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
# Table t1 TOTAL_ROW_VERSIONS should be 255 (MAX)
# Metadata from INFORMATION_SCHEMA.TABLES
NAME	N_COLS	INSTANT_COLS	TOTAL_ROW_VERSIONS
test/t1	129	0	255
# Metadata from INFORMATION_SCHEMA.COLUMNS
NAME	POS	MTYPE	PRTYPE	HAS_DEFAULT
c1	0	6	1027	0
c126	1	6	1027	1
c125	2	6	1027	1
c124	3	6	1027	1
c123	4	6	1027	1
c122	5	6	1027	1
c121	6	6	1027	1
c120	7	6	1027	1
c119	8	6	1027	1
c118	9	6	1027	1
c117	10	6	1027	1
c116	11	6	1027	1
c115	12	6	1027	1
c114	13	6	1027	1
c113	14	6	1027	1
c112	15	6	1027	1
c111	16	6	1027	1
c110	17	6	1027	1
c109	18	6	1027	1
c108	19	6	1027	1
c107	20	6	1027	1
c106	21	6	1027	1
c105	22	6	1027	1
c104	23	6	1027	1
c103	24	6	1027	1
c102	25	6	1027	1
c101	26	6	1027	1
c100	27	6	1027	1
c99	28	6	1027	1
c98	29	6	1027	1
c97	30	6	1027	1
c96	31	6	1027	1
c95	32	6	1027	1
c94	33	6	1027	1
c93	34	6	1027	1
c92	35	6	1027	1
c91	36	6	1027	1
c90	37	6	1027	1
c89	38	6	1027	1
c88	39	6	1027	1
c87	40	6	1027	1
c86	41	6	1027	1
c85	42	6	1027	1
c84	43	6	1027	1
c83	44	6	1027	1
c82	45	6	1027	1
c81	46	6	1027	1
c80	47	6	1027	1
c79	48	6	1027	1
c78	49	6	1027	1
c77	50	6	1027	1
c76	51	6	1027	1
c75	52	6	1027	1
c74	53	6	1027	1
c73	54	6	1027	1
c72	55	6	1027	1
c71	56	6	1027	1
c70	57	6	1027	1
c69	58	6	1027	1
c68	59	6	1027	1
c67	60	6	1027	1
c66	61	6	1027	1
c65	62	6	1027	1
c64	63	6	1027	1
c2	64	6	1027	1
c3	65	6	1027	1
c4	66	6	1027	1
c5	67	6	1027	1
c6	68	6	1027	1
c7	69	6	1027	1
c8	70	6	1027	1
c9	71	6	1027	1
c10	72	6	1027	1
c11	73	6	1027	1
c12	74	6	1027	1
c13	75	6	1027	1
c14	76	6	1027	1
c15	77	6	1027	1
c16	78	6	1027	1
c17	79	6	1027	1
c18	80	6	1027	1
c19	81	6	1027	1
c20	82	6	1027	1
c21	83	6	1027	1
c22	84	6	1027	1
c23	85	6	1027	1
c24	86	6	1027	1
c25	87	6	1027	1
c26	88	6	1027	1
c27	89	6	1027	1
c28	90	6	1027	1
c29	91	6	1027	1
c30	92	6	1027	1
c31	93	6	1027	1
c32	94	6	1027	1
c33	95	6	1027	1
c34	96	6	1027	1
c35	97	6	1027	1
c36	98	6	1027	1
c37	99	6	1027	1
c38	100	6	1027	1
c39	101	6	1027	1
c40	102	6	1027	1
c41	103	6	1027	1
c42	104	6	1027	1
c43	105	6	1027	1
c44	106	6	1027	1
c45	107	6	1027	1
c46	108	6	1027	1
c47	109	6	1027	1
c48	110	6	1027	1
c49	111	6	1027	1
c50	112	6	1027	1
c51	113	6	1027	1
c52	114	6	1027	1
c53	115	6	1027	1
c54	116	6	1027	1
c55	117	6	1027	1
c56	118	6	1027	1
c57	119	6	1027	1
c58	120	6	1027	1
c59	121	6	1027	1
c60	122	6	1027	1
c61	123	6	1027	1
c62	124	6	1027	1
c63	125	6	1027	1
# (b) Import tablespace for CREATE TABLE .. LIKE
ALTER TABLE t2 DISCARD TABLESPACE;
# Copy cfg/ibd files from temp location
ALTER TABLE t2 IMPORT TABLESPACE;
# Validate imported table
CHECK TABLE t2 EXTENDED;
Table	Op	Msg_type	Msg_text
test.t2	check	status	OK
SELECT * FROM t2;
c1	c126	c125	c124	c123	c122	c121	c120	c119	c118	c117	c116	c115	c114	c113	c112	c111	c110	c109	c108	c107	c106	c105	c104	c103	c102	c101	c100	c99	c98	c97	c96	c95	c94	c93	c92	c91	c90	c89	c88	c87	c86	c85	c84	c83	c82	c81	c80	c79	c78	c77	c76	c75	c74	c73	c72	c71	c70	c69	c68	c67	c66	c65	c64	c2	c3	c4	c5	c6	c7	c8	c9	c10	c11	c12	c13	c14	c15	c16	c17	c18	c19	c20	c21	c22	c23	c24	c25	c26	c27	c28	c29	c30	c31	c32	c33	c34	c35	c36	c37	c38	c39	c40	c41	c42	c43	c44	c45	c46	c47	c48	c49	c50	c51	c52	c53	c54	c55	c56	c57	c58	c59	c60	c61	c62	c63
1	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
2	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	2	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3
4	4	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	4	NULL	NULL	NULL	NULL	NULL	NULL	4	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
# Table t2 TOTAL_ROW_VERSIONS should be 255 (MAX)
# Metadata from INFORMATION_SCHEMA.TABLES
NAME	N_COLS	INSTANT_COLS	TOTAL_ROW_VERSIONS
test/t2	129	0	255
# Metadata from INFORMATION_SCHEMA.COLUMNS
NAME	POS	MTYPE	PRTYPE	HAS_DEFAULT
c1	0	6	1027	0
c126	1	6	1027	1
c125	2	6	1027	1
c124	3	6	1027	1
c123	4	6	1027	1
c122	5	6	1027	1
c121	6	6	1027	1
c120	7	6	1027	1
c119	8	6	1027	1
c118	9	6	1027	1
c117	10	6	1027	1
c116	11	6	1027	1
c115	12	6	1027	1
c114	13	6	1027	1
c113	14	6	1027	1
c112	15	6	1027	1
c111	16	6	1027	1
c110	17	6	1027	1
c109	18	6	1027	1
c108	19	6	1027	1
c107	20	6	1027	1
c106	21	6	1027	1
c105	22	6	1027	1
c104	23	6	1027	1
c103	24	6	1027	1
c102	25	6	1027	1
c101	26	6	1027	1
c100	27	6	1027	1
c99	28	6	1027	1
c98	29	6	1027	1
c97	30	6	1027	1
c96	31	6	1027	1
c95	32	6	1027	1
c94	33	6	1027	1
c93	34	6	1027	1
c92	35	6	1027	1
c91	36	6	1027	1
c90	37	6	1027	1
c89	38	6	1027	1
c88	39	6	1027	1
c87	40	6	1027	1
c86	41	6	1027	1
c85	42	6	1027	1
c84	43	6	1027	1
c83	44	6	1027	1
c82	45	6	1027	1
c81	46	6	1027	1
c80	47	6	1027	1
c79	48	6	1027	1
c78	49	6	1027	1
c77	50	6	1027	1
c76	51	6	1027	1
c75	52	6	1027	1
c74	53	6	1027	1
c73	54	6	1027	1
c72	55	6	1027	1
c71	56	6	1027	1
c70	57	6	1027	1
c69	58	6	1027	1
c68	59	6	1027	1
c67	60	6	1027	1
c66	61	6	1027	1
c65	62	6	1027	1
c64	63	6	1027	1
c2	64	6	1027	1
c3	65	6	1027	1
c4	66	6	1027	1
c5	67	6	1027	1
c6	68	6	1027	1
c7	69	6	1027	1
c8	70	6	1027	1
c9	71	6	1027	1
c10	72	6	1027	1
c11	73	6	1027	1
c12	74	6	1027	1
c13	75	6	1027	1
c14	76	6	1027	1
c15	77	6	1027	1
c16	78	6	1027	1
c17	79	6	1027	1
c18	80	6	1027	1
c19	81	6	1027	1
c20	82	6	1027	1
c21	83	6	1027	1
c22	84	6	1027	1
c23	85	6	1027	1
c24	86	6	1027	1
c25	87	6	1027	1
c26	88	6	1027	1
c27	89	6	1027	1
c28	90	6	1027	1
c29	91	6	1027	1
c30	92	6	1027	1
c31	93	6	1027	1
c32	94	6	1027	1
c33	95	6	1027	1
c34	96	6	1027	1
c35	97	6	1027	1
c36	98	6	1027	1
c37	99	6	1027	1
c38	100	6	1027	1
c39	101	6	1027	1
c40	102	6	1027	1
c41	103	6	1027	1
c42	104	6	1027	1
c43	105	6	1027	1
c44	106	6	1027	1
c45	107	6	1027	1
c46	108	6	1027	1
c47	109	6	1027	1
c48	110	6	1027	1
c49	111	6	1027	1
c50	112	6	1027	1
c51	113	6	1027	1
c52	114	6	1027	1
c53	115	6	1027	1
c54	116	6	1027	1
c55	117	6	1027	1
c56	118	6	1027	1
c57	119	6	1027	1
c58	120	6	1027	1
c59	121	6	1027	1
c60	122	6	1027	1
c61	123	6	1027	1
c62	124	6	1027	1
c63	125	6	1027	1
# (c) Import tablespace for CREATE TABLE .. AS SELECT * FROM ..
ALTER TABLE t3 DISCARD TABLESPACE;
# Copy cfg/ibd files from temp location
ALTER TABLE t3 IMPORT TABLESPACE;
# Validate imported table
CHECK TABLE t3 EXTENDED;
Table	Op	Msg_type	Msg_text
test.t3	check	status	OK
SELECT * FROM t3;
c1	c126	c125	c124	c123	c122	c121	c120	c119	c118	c117	c116	c115	c114	c113	c112	c111	c110	c109	c108	c107	c106	c105	c104	c103	c102	c101	c100	c99	c98	c97	c96	c95	c94	c93	c92	c91	c90	c89	c88	c87	c86	c85	c84	c83	c82	c81	c80	c79	c78	c77	c76	c75	c74	c73	c72	c71	c70	c69	c68	c67	c66	c65	c64	c2	c3	c4	c5	c6	c7	c8	c9	c10	c11	c12	c13	c14	c15	c16	c17	c18	c19	c20	c21	c22	c23	c24	c25	c26	c27	c28	c29	c30	c31	c32	c33	c34	c35	c36	c37	c38	c39	c40	c41	c42	c43	c44	c45	c46	c47	c48	c49	c50	c51	c52	c53	c54	c55	c56	c57	c58	c59	c60	c61	c62	c63
1	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
2	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	2	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	3
4	4	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	4	NULL	NULL	NULL	NULL	NULL	NULL	4	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
# Table t3 TOTAL_ROW_VERSIONS should be 255 (MAX)
# Metadata from INFORMATION_SCHEMA.TABLES
NAME	N_COLS	INSTANT_COLS	TOTAL_ROW_VERSIONS
test/t3	129	0	255
# Metadata from INFORMATION_SCHEMA.COLUMNS
NAME	POS	MTYPE	PRTYPE	HAS_DEFAULT
c1	0	6	1027	0
c126	1	6	1027	1
c125	2	6	1027	1
c124	3	6	1027	1
c123	4	6	1027	1
c122	5	6	1027	1
c121	6	6	1027	1
c120	7	6	1027	1
c119	8	6	1027	1
c118	9	6	1027	1
c117	10	6	1027	1
c116	11	6	1027	1
c115	12	6	1027	1
c114	13	6	1027	1
c113	14	6	1027	1
c112	15	6	1027	1
c111	16	6	1027	1
c110	17	6	1027	1
c109	18	6	1027	1
c108	19	6	1027	1
c107	20	6	1027	1
c106	21	6	1027	1
c105	22	6	1027	1
c104	23	6	1027	1
c103	24	6	1027	1
c102	25	6	1027	1
c101	26	6	1027	1
c100	27	6	1027	1
c99	28	6	1027	1
c98	29	6	1027	1
c97	30	6	1027	1
c96	31	6	1027	1
c95	32	6	1027	1
c94	33	6	1027	1
c93	34	6	1027	1
c92	35	6	1027	1
c91	36	6	1027	1
c90	37	6	1027	1
c89	38	6	1027	1
c88	39	6	1027	1
c87	40	6	1027	1
c86	41	6	1027	1
c85	42	6	1027	1
c84	43	6	1027	1
c83	44	6	1027	1
c82	45	6	1027	1
c81	46	6	1027	1
c80	47	6	1027	1
c79	48	6	1027	1
c78	49	6	1027	1
c77	50	6	1027	1
c76	51	6	1027	1
c75	52	6	1027	1
c74	53	6	1027	1
c73	54	6	1027	1
c72	55	6	1027	1
c71	56	6	1027	1
c70	57	6	1027	1
c69	58	6	1027	1
c68	59	6	1027	1
c67	60	6	1027	1
c66	61	6	1027	1
c65	62	6	1027	1
c64	63	6	1027	1
c2	64	6	1027	1
c3	65	6	1027	1
c4	66	6	1027	1
c5	67	6	1027	1
c6	68	6	1027	1
c7	69	6	1027	1
c8	70	6	1027	1
c9	71	6	1027	1
c10	72	6	1027	1
c11	73	6	1027	1
c12	74	6	1027	1
c13	75	6	1027	1
c14	76	6	1027	1
c15	77	6	1027	1
c16	78	6	1027	1
c17	79	6	1027	1
c18	80	6	1027	1
c19	81	6	1027	1
c20	82	6	1027	1
c21	83	6	1027	1
c22	84	6	1027	1
c23	85	6	1027	1
c24	86	6	1027	1
c25	87	6	1027	1
c26	88	6	1027	1
c27	89	6	1027	1
c28	90	6	1027	1
c29	91	6	1027	1
c30	92	6	1027	1
c31	93	6	1027	1
c32	94	6	1027	1
c33	95	6	1027	1
c34	96	6	1027	1
c35	97	6	1027	1
c36	98	6	1027	1
c37	99	6	1027	1
c38	100	6	1027	1
c39	101	6	1027	1
c40	102	6	1027	1
c41	103	6	1027	1
c42	104	6	1027	1
c43	105	6	1027	1
c44	106	6	1027	1
c45	107	6	1027	1
c46	108	6	1027	1
c47	109	6	1027	1
c48	110	6	1027	1
c49	111	6	1027	1
c50	112	6	1027	1
c51	113	6	1027	1
c52	114	6	1027	1
c53	115	6	1027	1
c54	116	6	1027	1
c55	117	6	1027	1
c56	118	6	1027	1
c57	119	6	1027	1
c58	120	6	1027	1
c59	121	6	1027	1
c60	122	6	1027	1
c61	123	6	1027	1
c62	124	6	1027	1
c63	125	6	1027	1
# Cleanup
DROP TABLE t1;
DROP TABLE t2;
DROP TABLE t3;
